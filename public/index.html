<html>
<head>
    <title>–°–µ—Ä–∏–∞–ª—ã</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css">
    <meta content="width=device-width,initial-scale=1" name=viewport>
</head>
<body>
    <div class="container">
        <div class="jumbotron">
            <h1>–ü—Ä–∏–≤–µ—Ç</h1>
            <p class="lead">–ß—Ç–æ–±—ã —Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ä–∏–∞–ª—ã –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã, –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –≤ –ª—é–±–æ–º –∫–∞—á–µ—Å—Ç–≤–µ –∏ –ø–µ—Ä–µ–≤–æ–¥–µ, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —ç—Ç—É –±–æ–ª—å—à—É—é –∫—Ä–∞—Å–Ω—É—é –∫–Ω–æ–ø–∫—É:</p>
            <p><a class="btn btn-lg btn-danger" id="submit_try_get_secure_mark" role="button">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</a></p>
        </div>
        <div class="marketing" style="display: none;">
            <h4>–ß—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?</h4>
            <div class="row">
                <div class="col-md-6">
                    <ul>
                        <li><a href="/serial-584-Kak_ya_vstretil_vashu_mamu-1-season.html">–ö–∞–∫ —è –≤—Å—Ç—Ä–µ—Ç–∏–ª –≤–∞—à—É –º–∞–º—É</a></li>
                        <li><a href="/serial-415-Teoriya_bol_shogo_vzriva-01-sezon.html">–¢–µ–æ—Ä–∏—è –±–æ–ª—å—à–æ–≥–æ –≤–∑—Ä—ã–≤–∞</a></li>
                        <li><a href="/serial-6253-Kartochnyj_domik.html">–ö–∞—Ä—Ç–æ—á–Ω—ã–π –¥–æ–º–∏–∫</a></li>
                        <li><a href="/serial-9277-Kremnievaya_dolina-01-sezon.html">–ö—Ä–µ–º–Ω–∏–µ–≤–∞—è –¥–æ–ª–∏–Ω–∞</a></li>
                        <li><a href="/serial-2219-Ne_vse_starki_umrut-001-sezon.html">–ò–≥—Ä–∞ –ø—Ä–µ—Å—Ç–æ–ª–æ–≤</a></li>
                        <li><a href="/serial-1399-Sherlock-1-sezon.html">–®–µ—Ä–ª–æ–∫</a></li>
                        <li><a href="/serial-4832-Elementarno-1-sezon.html">–≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ</a></li>
                        <li><a href="/serial-3172-Rodina-1-season.html">–†–æ–¥–∏–Ω–∞</a></li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <ul>
                        <li><a href="/serial-249-Doktor_Kto-1-season.html">–î–æ–∫—Ç–æ—Ä –ö—Ç–æ</a></li>
                        <li><a href="/serial-7276-Oranzhevyj_-001-sezon.html">–û—Ä–∞–Ω–∂–µ–≤—ã–π - —ç—Ç–æ —Ö–∏—Ç —Å–µ–∑–æ–Ω–∞</a></li>
                        <li><a href="/serial-1031-Simpsoni-1-sezon.html">–°–∏–º–ø—Å–æ–Ω—ã</a></li>
                        <li><a href="/serial-9372-Fargo-1-season.html">–§–∞—Ä–≥–æ</a></li>
                        <li><a href="/serial-9099-Sotnya-1-season.html">–°–æ—Ç–Ω—è</a></li>
                        <li><a href="/serial-3319-Odnazhdi-00001-sezon.html">–û–¥–Ω–∞–∂–¥—ã</a></li>
                        <li><a href="/serial-1174-Vsegda_solnechno_v_Filadel_fii-1-sezon.html">–í—Å–µ–≥–¥–∞ —Å–æ–ª–Ω–µ—á–Ω–æ –≤ –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏–∏</a></li>
                        <li><a href="/serial-118-Pobeg_iz_tyur_mi-1-season.html">–ü–æ–±–µ–≥ –∏–∑ —Ç—é—Ä—å–º—ã</a></li>
                    </ul>
                </div>
            </div>
            <div class="dont_work" style="display: none;">
                <h4>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏—è?</h4>
                <p>
                    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–π—Ç–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é:
                    <ol>
                        <li>
                            –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–µ—Ä–∏–∞–ª–æ–º";
                        </li>
                        <li>
                            –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É Console –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –æ–±—ã—á–Ω–æ, —ç—Ç–æ –∫–ª–∞–≤–∏—à–∞ <kbd>F12</kbd>;
                        </li>
                        <li>
                            –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ <code>i=document.body.textContent.match(/\'secureMark\'\:\ \'(.+)\'/i),i&amp;&amp;i[1]</code> –∏ –Ω–∞–∂–º–∏—Ç–µ <kbd>Enter</kbd>;
                        </li>
                        <li>
                            –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É, –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":<br>
                            <form class="form-inline" style="margin-bottom: 0em;">
                                <input type="text" id="secure_mark" class="form-control" style="width: 70%;" autocomplete="off">
                                <button type="button" id="submit_secure_mark" class="btn btn-success">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <span class="state-saved" style="display: none;">üëç</span>
                                <span class="state-filed" style="display: none">üëé</span>
                            </form>
                        </li>
                    </ol>
                </p>
            </div>
        </div>
    </div>
    <script type="text/javascript" async="" src="https://mc.yandex.ru/metrika/watch.js"></script><script>
        window.onload = function() {
            var sm = document.getElementById('secure_mark'),
                mk = document.getElementById('marketing');

            function GetMe() {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '/me', true);
                xhr.onload = function() {
                    if (xhr.status != 200) {
                        return
                    }
                    var data = JSON.parse(xhr.responseText);
                    if (data['secure_mark'].length == 0) {
                        return
                    }
                    sm.value = data['secure_mark'];
                    Show('.state-saved');
                    Show('.marketing');
                }
                xhr.send();
            }

            function SetMe(sm) {
                var xhr = new XMLHttpRequest();
                Hide('.state-failed');
                Hide('.state-saved');
                xhr.open('POST', '/me', true);
                xhr.onload = function() {
                    if (xhr.status != 200) {
                        Show('.state-failed');
                        return
                    }
                    Show('.state-saved');
                }
                xhr.onerror = function() {
                    Show('.state-failed');
                }
                var json = JSON.stringify({
                    secure_mark: sm,
                });
                xhr.send(json);
            }

            function Hide(selector) {
                e = document.querySelectorAll(selector);
                for (var i = 0; i < e.length; i++) {
                    e[i].style.display = 'none';
                }
            }

            function Show(selector) {
                e = document.querySelectorAll(selector);
                for (var i = 0; i < e.length; i++) {
                    e[i].style.display = 'inline';
                }
            }

            function Decode(y, t, u, p) {
                var lIll = 0;
                var ll1I = 0;
                var Il1l = 0;
                var ll1l = [];
                var l1lI = [];
                while (true) {
                    if (lIll < 5) l1lI.push(y.charAt(lIll));
                    else if (lIll < y.length) ll1l.push(y.charAt(lIll));
                    lIll++;
                    if (ll1I < 5) l1lI.push(t.charAt(ll1I));
                    else if (ll1I < t.length) ll1l.push(t.charAt(ll1I));
                    ll1I++;
                    if (Il1l < 5) l1lI.push(u.charAt(Il1l));
                    else if (Il1l < u.length) ll1l.push(u.charAt(Il1l));
                    Il1l++;
                    if (y.length + t.length + u.length + p.length == ll1l.length + l1lI.length + p.length) break;
                }
                var lI1l = ll1l.join('');
                var I1lI = l1lI.join('');
                ll1I = 0;
                var l1ll = [];
                for (lIll = 0; lIll < ll1l.length; lIll += 2) {
                    var ll11 = -1;
                    if (I1lI.charCodeAt(ll1I) % 2) ll11 = 1;
                    l1ll.push(String.fromCharCode(parseInt(lI1l.substr(lIll, 2), 36) - ll11));
                    ll1I++;
                    if (ll1I >= l1lI.length) ll1I = 0;
                }
                return l1ll.join('');
            }

            function DecodeText(text) {
                p = text.match( /playlist\/([a-z0-9]{32})\//i );
                if (p != null && p.length == 2) {
                    return p[1];
                }
                r = text.match( /\(\'([a-z0-9]+)\'\,\'([a-z0-9]+)\'\,\'([a-z0-9]+)\'\,\'([a-z0-9]+)\'/i );
                if (r == null || r.length != 5) {
                    return
                }
                return DecodeText(Decode(r[1], r[2], r[3], r[4]));
            }

            function GetSecureMark() {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://datalock.ru/player/1', false);
                xhr.onload = function() {
                    if (xhr.status != 200 || xhr.responseText.length == "") {
                        return
                    }
                    secure_mark = DecodeText(xhr.responseText);
                    if (secure_mark != undefined && secure_mark != sm.value) {
                        sm.value = secure_mark;
                        SetMe(secure_mark);
                    }
                }
                xhr.send(null);
            }

            submit_secure_mark.onclick = function() {
                SetMe(sm.value);
            };

            submit_try_get_secure_mark.onclick = function() {
                Show('.marketing');
                Show('.dont_work');
                GetSecureMark();
            };

            GetMe();
        };
    </script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter41725489 = new Ya.Metrika({
                        id:41725489,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript>
        <div>
            <img src="https://mc.yandex.ru/watch/41725489" style="position:absolute; left:-9999px;" alt="" />
        </div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
</body>
</html>
